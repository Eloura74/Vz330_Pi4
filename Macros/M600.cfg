#   __       __                                                   
#  |  \     /  \                                                  
#  | $$\   /  $$  ______    _______   ______    ______    _______ 
#  | $$$\ /  $$$ |      \  /       \ /      \  /      \  /       \
#  | $$$$\  $$$$  \$$$$$$\|  $$$$$$$|  $$$$$$\|  $$$$$$\|  $$$$$$$
#  | $$\$$ $$ $$ /      $$| $$      | $$   \$$| $$  | $$ \$$    \ 
#  | $$ \$$$| $$|  $$$$$$$| $$_____ | $$      | $$__/ $$ _\$$$$$$\
#  | $$  \$ | $$ \$$    $$ \$$     \| $$       \$$    $$|       $$
#   \$$      \$$  \$$$$$$$  \$$$$$$$ \$$        \$$$$$$  \$$$$$$$ 
#    

##############################################################
#########################     M600     #######################
##############################################################

[gcode_macro M600]
description: Pause pour changement de couleur
gcode:
    #default_parameter_X: 10
    #default_parameter_Y: 10
    #default_parameter_Z: 10
    {% set X = params.X|default(70)|float %}
    {% set Y = params.Y|default(70)|float %}
    {% set Z = params.Z|default(30)|float %}
  SAVE_GCODE_STATE NAME=M600_state
  PAUSE
    G91
    G1 E-.8 F2700
    G1 Z{Z}
    G90
    G1 X{X} Y{Y} F3000
    G91
    G1 E-50 F1000
  RESTORE_GCODE_STATE NAME=M600_state

